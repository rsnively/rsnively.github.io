<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="icon"
	  type="image/jpg"
	  href="../images/icon.jpg">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="style.css" />
<title>Rory's Web Thing</title>
</head>

<body>
<div id="container">
  	<div id="header">
        <h1>Rory<span class="off">Snively</span></h1>
			<h2>Mostly nonsense</h2>
    </div>   
        
    <div id="menu">
        <ul>
            <li class="menuitem"><a href="../index.html">Home</a></li>
            <li class="menuitem"><a href="../about.html">About</a></li>
            <li class="menuitem"><a href="../blog.html">Blog</a></li>
            <li class="menuitem"><a href="../classes/index.html">Classes</a></li>
            <li class="menuitem"><a href="../projects.html">Projects</a></li>
            <li class="menuitem"><a href="../contact.html">Contact</a></li>
        </ul>
    </div>
	
	<div id="leftmenu">
		<div id="leftmenu_top"></div>
		<div id="leftmenu_main">
			<h3>Links</h3>
				<ul>
					<li><a href="http://www.projecteuler.net">Project Euler</a></li>
                    <li><a href="index.html">All Problems</a></li>
                    <li><a href="problem1.html">Previous Problem(1)</a></li>
					<li><a href="problem3.html">Next Problem (3)</a></li>
				</ul>
			</div>
		<div id="leftmenu_bottom"></div>
	</div>
	
	<div id="content">
		<div id="content_top"></div>
		<div id="content_main">
            <h2>Problem 2: Even Fibonacci Numbers</h2>
                <p>&nbsp;</p>
                <p>&nbsp;</p>
                <h3>The Problem</h3>
                    <p>Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:</br></br>1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...</br></br>By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.<p>
                    <p>&nbsp;</p>
                <h3>The Solution</h3>
                    <p>We're still in the realm of the not very challenging. This problem is more like something the whole family can enjoy! Per usual, there's an easy programming answer and a hard math answer.</p>
                    <p>&nbsp;</p>
                    <p>Silly code:
                    <pre><code>
<font color="blue">&#35;include</font> <font color=#700000>&lt;iostream&gt;</font>
<font color="blue">using namespace</font> std;

<font color="blue">const int</font> MAX = 4000000;
                           
<font color="blue">int</font> main()
{
    <font color="green">// I like to think of these two variables as the "current fibonacci
    // number" and the "previous fibonacci number" at any point during
    // the program's execution.</font>
    <font color="blue">int</font> current = 1;
    <font color="blue">int</font> previous = 0;
    
    <font color="green">// And the sum of the fibonacci numbers that we care about.</font>
    <font color="blue">int</font> sum = 0;
    
    <font color="green">// For all fibonacci numbers up to the maximum for this problem...</font>
    <font color="blue">while</font> (current < MAX)
    {
        <font color="green">// We only care about even ones...</font>
        <font color="blue">if</font> (current % 2 == 0)
        {
            sum += current;
        }
        
        <font color="green">// Update our fibonacci numbers. (Yeah I did it without using any
        // temporary variables, whattup?</font>
        current += previous;
        previous = current - previous;
    }
    cout << sum << endl;
}
                    </code></pre></p>
                <p>&nbsp;</p>
                <p>Once again, this gets the job done, even if it is embarrassingly simple.</p>
                <p>&nbsp;</p>
                <p>If we want to sound smarter, the Fibonacci sequence is a recursive relationship, so we can solve for a <a href="http://en.wikipedia.org/wiki/Fibonacci_number#Relation_to_the_golden_ratio">closed-form expression</a>. Using this, we can sum the numbers more impressively.
                <pre><code>
<font color="blue">&#35;include</font> <font color=#700000>&lt;iostream&gt;</font>
<font color="blue">using namespace</font> std;

<font color="blue">const int</font> MAX = 4000000;
<font color="blue">const int</font> GOLDEN_RATIO = (1.0 + sqrt(5.0)) / 2.0;

<font color="green">// Since our (or at least my...) computers are imperfect, we need to round our
// fibonacci numbers, which we know to be integers.</font>
<font color="blue">int</font> round(<font color="blue">double</font> d);
{
    <font color="blue">return</font> floor(d + 0.5);
}

<font color="green">// Returns the nth fibonacci number, using deep magic.</font>
<font color="blue">int</font> fib(<font color="blue">int</font> n)
{
    <font color="blue">double</font> almost_answer = (pow(GOLDEN_RATIO, n) - pow(GOLDEN_RATIO, -n)) / 
                           sqrt(5.0);
    <font color="blue">return</font> round(almost_answer);
}

<font color="blue">int</font> main()
{
    <font color="green">// The sum that will eventually contain our answer.</font>
    <font color="blue">int</font> sum = 0;
    <font color="green">// I use this stupid variable because I don't want fib(n) to ever be
    // called more than once during a step of the loop.</font>
    <font color="blue">bool</font> dontstop = true;
    
    <font color="green">// A little thinking will lead you to the conclusion that every third
    // fibonacci number is even. And we can use that to determine which
    // ones to sum.</font>
    <font color="blue">for</font> (<font color="blue">int</font> i = 3; dontstop == <font color="blue">true</font>; i += 3)
    {
        <font color="blue">int</font> fibnum = fib(i);
        
        <font color="blue">if</font> (fibnum < MAX)
        {
            sum += fibnum;
        }
        <font color="blue">else</font>
        {
            dontstop = <font color="blue">false</font>;
        }
    }
    
    cout << sum << endl;
}
                </code></pre></p>
                <p>&nbsp;</p>
                <p>I'm just going to say it: I think this is a dumb solution. If the problem had to do with only finding one Fibonacci number, then sure, a closed-form solution would blow a standard one out of the water. However, the loop is only reduced by a factor of three (and the I'm pretty sure one of the 10 Commandments says something about scalar reductions in complexity being made-up). Not only that, but this method requires not one, but two function calls for each number. The stack traces probable take a lot longer than running through two extra iterations of the loop. This problem is certainly an instance of everyone getting too obsessed with proving their math acumen. </p>
                <p>&nbsp;</p>
            </div>
		<div id="content_bottom"></div>
        <div id="footer"><h3><a href="#">back to top</a></h3></div>
	</div>
</body>
</html>
